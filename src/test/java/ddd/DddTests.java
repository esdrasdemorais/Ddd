package ddd;

import static org.junit.Assert.*;
import org.junit.Test;

import com.esdrasmorais.ddd.repository.MongoContext;
import com.esdrasmorais.ddd.repository.MongoRepository;
import com.esdrasmorais.ddd.repository.interfaces.IClient;
import com.esdrasmorais.ddd.repository.interfaces.IContext;
import com.esdrasmorais.ddd.repository.interfaces.IDb;

/**
 * This java source file was generated by the Gradle 'init' task.
 */
public class DddTests {
    @Test public void testRepository() {
    	assertTrue(
    		System.getProperty("mongo.uri") != null
    	);
  
    	IContext context = new MongoContext();
 		IClient client = context.getClient();	
		IDb db = client.getDb("Drones");
	
    	UserRepository userRepository = new UserRepository(
    		context, client, db
    	);
    	    	
        assertTrue(
			"should return 'true'", 
			userRepository instanceof MongoRepository<?>
        );
        
//        assertTrue(
//        	userRepository.findAll().size() >= 0
//        );
    }
}